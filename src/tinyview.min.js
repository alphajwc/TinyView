class TinyView{constructor(...t){this.mouseDrag=!1,this.mouseDownX=0,this.mouseDownY=0,this.scale=100,this.angle=0,this.images=t,this.canvas=document.createElement("div"),this.canvas.id="tiny-view-canvas",this.scaleLabel=document.createElement("div"),this.scaleLabel.id="tiny-view-canvas-label",this.canvasBtn=document.createElement("ul"),this.canvasBtn.id="tiny-view-canvas-button",this.zoomInBtn=document.createElement("li"),this.zoomInBtn.classList.add("tiny-view-icon-zoomIn"),this.canvasBtn.appendChild(this.zoomInBtn),this.zoomOutBtn=document.createElement("li"),this.zoomOutBtn.classList.add("tiny-view-icon-zoomOut"),this.canvasBtn.appendChild(this.zoomOutBtn),this.fullScreenBtn=document.createElement("li"),this.fullScreenBtn.classList.add("tiny-view-icon-fullScreen"),this.canvasBtn.appendChild(this.fullScreenBtn),this.leftRotateBtn=document.createElement("li"),this.leftRotateBtn.classList.add("tiny-view-icon-leftRotate"),this.canvasBtn.appendChild(this.leftRotateBtn),this.rightRotateBtn=document.createElement("li"),this.rightRotateBtn.classList.add("tiny-view-icon-rightRotate"),this.canvasBtn.appendChild(this.rightRotateBtn),this.loader=document.createElement("div"),this.loader.classList.add("tiny-view-loader"),this.canvasBtn.appendChild(this.loader),this.canvasImage=document.createElement("img"),this.canvasImage.id="tiny-view-canvas-image";let e=()=>{this.zoomInBtn.addEventListener("click",t=>{t.deltaY=-100,this.scaleImage(t)}),this.zoomOutBtn.addEventListener("click",t=>{t.deltaY=100,this.scaleImage(t)}),this.fullScreenBtn.addEventListener("click",t=>{this.canvasImage.requestFullscreen()}),this.leftRotateBtn.addEventListener("click",()=>{this.angle-=90,this.canvasImage.style.setProperty("transform",`rotate(${this.angle}deg)`)}),this.rightRotateBtn.addEventListener("click",()=>{this.angle+=90,this.canvasImage.style.setProperty("transform",`rotate(${this.angle}deg)`)}),this.canvas.addEventListener("click",()=>{this.addStyle([this.canvasImage,this.canvas,this.canvasBtn,this.scaleLabel,this.loader],"display","none"),document.body.style.overflow="auto"}),this.canvasImage.addEventListener("mousedown",t=>{this.mouseDrag=!0,this.mouseDownX=t.offsetX,this.mouseDownY=t.offsetY}),this.canvasImage.addEventListener("mouseenter",()=>{this.canvasImage.style.cursor="grab"}),this.canvasImage.addEventListener("mouseup",()=>{this.mouseDrag=!1}),this.canvasImage.addEventListener("mousemove",t=>{if(this.mouseDrag){let e=t.clientX-this.mouseDownX,s=t.clientY-this.mouseDownY;this.canvasImage.style.left=e+"px",this.canvasImage.style.top=s+"px"}}),this.canvas.addEventListener("wheel",t=>{this.scaleImage(t)}),this.canvasImage.addEventListener("wheel",t=>{this.scaleImage(t)}),this.scaleLabel.addEventListener("animationend",t=>{"tiny-view-canvas-fadeOut"==t.animationName&&(this.scaleLabel.style.display="none")}),window.onresize=()=>{this.canvasImage.style.setProperty("top",`${(window.innerHeight-this.canvasImage.clientHeight)/2}px`),this.canvasImage.style.setProperty("left",`${(window.innerWidth-this.canvasImage.clientWidth)/2}px`),this.canvasBtn.style.setProperty("left",`${(window.innerWidth-this.canvasBtn.clientWidth)/2}px`)}};e.call(this),document.body.appendChild(this.scaleLabel),document.body.appendChild(this.canvasBtn),document.body.appendChild(this.canvasImage),document.body.appendChild(this.canvas),t.forEach(t=>{console.log(t.src),t.addEventListener("click",this.openView.bind(this,t.src))})}scaleImage(t){t.preventDefault();let e=this.scale+Math.round(-.05*t.deltaY);e>=5&&(this.scale=e,this.scaleLabel.style.display="block",this.scaleLabel.textContent=`${this.scale}%`,this.canvasImage.style.transform=`scale(${this.scale}%)`)}addStyle([...t],e,s){t.forEach(t=>{t.style.setProperty(e,s)})}openView(t){this.addStyle([this.canvasImage,this.canvas,this.loader],"display","block"),this.canvasBtn.style.display="flex",this.canvasImage.draggable=!1,this.canvasImage.src=t,this.canvasImage.onload=()=>{this.loader.style.display="none"},this.loader.style.setProperty("left",`${(window.innerWidth-this.loader.clientWidth)/2}px`),this.loader.style.setProperty("top",`${(window.innerHeight-this.loader.clientHeight)/2}px`),this.canvasBtn.style.setProperty("left",`${(window.innerWidth-this.canvasBtn.clientWidth)/2}px`),this.canvasImage.style.setProperty("top",`${(window.innerHeight-this.canvasImage.clientHeight)/2}px`),this.canvasImage.style.setProperty("left",`${(window.innerWidth-this.canvasImage.clientWidth)/2}px`),document.body.style.overflow="hidden"}}